---
title: "Análisis de la cuenta de Alejando Cavero"
author: "Gissela_Cornejo_Castellano"
date: "8/2/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Este trabajo analiza los últimos 1000 tweets del congresista Alejando Cavero (@AlejandroCavero) al 08 de febrero de 2022, 9.30 a.m.

```{r Librerías}
library(rtweet)
library(tidyverse)
library(twitteR)
library(ROAuth)
library(httr)
library(tm)
library(SnowballC)
library(rio)
```

# 1. Conseguir la data

## 1.1 API de Twitter y establecer conexión

En aras de no usar repetidas veces mis credenciales, una vez extraída la data la exporté como csv. Por esa razón he colocado los siguientes chunks como comentario y he borrado mis claves.
```{#r}
api_key <- "K2pviSkiv84wO7Pnk7IJOcoiw"
api_secret <- "qfcfxdpvduTQz170CVgtW1krIOSIlLYLbNSlYZM5lubRxsTVeq"
access_token <- "814222538440134657-DlkjGkZqQuCng4ryXlvogShIbQB0jXd"
access_token_secret <- "4XwJH8VwpG2N9dghqHMaIpptyFTrdQNFWx31U3NYUI0Uh"
```

```{#r}
setup_twitter_oauth(api_key,api_secret,access_token,access_token_secret)
```

```{#r}
Cavero <- get_timeline("@AlejandroCavero", 1000)
```

## 1.2 Exportar la base de datos a csv, como respaldo para no volver a usar las credenciales si lo vuelvo a necesitar.
```{#r}
Cavero <- apply(Cavero,2,as.character)
```

```{#r}
write.csv(Cavero, "C:\\Users\\jecas\\Documents\\GitHub\\NLP_AleCav\\Cavero.csv", row.names=FALSE, fileEncoding = "UTF-8")
```

## 1.3 Importar base desde Github, para la reproducibilidad de este Rmd.
```{r}
Github <- "https://github.com/gisselacornejocastellano/NLP_AleCav/raw/main/Cavero.csv"

Cavero_Tweets <- read.csv("Cavero.csv", encoding="UTF-8")
```


# 2. Preprocesamiento
```{r}
max(Cavero_Tweets$created_at); min(Cavero_Tweets$created_at)
head(Cavero_Tweets$text)
```
2.1 Creación de corpus
```{r}
Cavero_Tweets <- Cavero_Tweets$text |> 
  as.data.frame()
Cavero_Tweets
```

```{r}
Corpus <- Corpus(VectorSource(Cavero_Tweets))
length(Cavero_Tweets)
```

```{r}

```

